/*! For license information please see notifications-sdk-bundle.js.LICENSE.txt */
!function(){var t={830:function(t,e,n){"use strict";n.r(e),n.d(e,{createTracker:function(){return M},preparePayload:function(){return x},trackEvent:function(){return k},trackEventFactory:function(){return N}});var r=window.__SPOTIM__.lib.ab,o=n.n(r),i=n(951),a=n.n(i),u=n(69),c=n(808),s=n.n(c),l=n(923);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(){var t=localStorage.getItem("SPOTIM_DEVICE_UUID_V2");return t?JSON.parse(t):{}}function p(){return"."+function(t){void 0===t&&(t="");var e=(t=t.replace(/^www\./,"")).split(/\./);if(3===e.length){var n=e[2],r=e[1],o=h.includes(n),i=!h.includes(r)&&!m.includes(r);if(o&&i)return e.shift(),e.join(".")}for(;e.length>3;)e.shift();return 3===e.length&&(e[1].length>2&&e[2].length>2||-1===m.indexOf(e[1])&&-1===h.indexOf(e[2]))&&e.shift(),e.join(".")}(document.domain)}var v,h="ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|be|bf|bg|bh|bi|bj|bm|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|cl|cm|cn|co|cr|cu|cv|cw|cx|cz|de|dj|dk|dm|do|dz|ec|ee|eg|es|et|eu|fi|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|im|in|io|iq|ir|is|it|je|jo|jp|kg|ki|km|kn|kp|kr|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|na|nc|ne|nf|ng|nl|no|nr|nu|nz|om|pa|pe|pf|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|yt".split("|"),m="com|edu|gov|net|mil|org|nom|sch|caa|res|off|gob|int|tur|ip6|uri|urn|asn|act|nsw|qld|tas|vic|pro|biz|adm|adv|agr|arq|art|ato|bio|bmd|cim|cng|cnt|ecn|eco|emp|eng|esp|etc|eti|far|fnd|fot|fst|g12|ggf|imb|ind|inf|jor|jus|leg|lel|mat|med|mus|not|ntr|odo|ppg|psc|psi|qsl|rec|slg|srv|teo|tmp|trd|vet|zlg|web|ltd|sld|pol|fin|k12|lib|pri|aip|fie|eun|sci|prd|cci|pvt|mod|idv|rel|sex|gen|nic|abr|bas|cal|cam|emr|fvg|laz|lig|lom|mar|mol|pmn|pug|sar|sic|taa|tos|umb|vao|vda|ven|mie|北海道|和歌山|神奈川|鹿児島|ass|rep|tra|per|ngo|soc|grp|plc|its|air|and|bus|can|ddr|jfk|mad|nrw|nyc|ski|spy|tcm|ulm|usa|war|fhs|vgs|dep|eid|fet|fla|flå|gol|hof|hol|sel|vik|cri|iwi|ing|abo|fam|gok|gon|gop|gos|aid|atm|gsm|sos|elk|waw|est|aca|bar|cpa|jur|law|sec|plo|www|bir|cbg|jar|khv|msk|nov|nsk|ptz|rnd|spb|stv|tom|tsk|udm|vrn|cmw|kms|nkz|snz|pub|fhv|red|ens|nat|rns|rnu|bbs|tel|bel|kep|nhs|dni|fed|isa|nsn|gub|e12|tec|орг|обр|упр|alt|nis|jpn|mex|ath|iki|nid|gda|inc".split("|"),g="spotim_visitId",_=new Date,b=function(t){return new Date((new Date).getTime()+60*t*1e3)},y=function(t,e){var n=(t.getTime()-e.getTime())/1e3,r=Math.abs(n);return Math.round(r)};function w(){return window.__SPOTIM_PAGE_VIEW_ID__||(window.__SPOTIM_PAGE_VIEW_ID__=d().uuid),window.__SPOTIM_PAGE_VIEW_ID__||""}function A(t){void 0===t&&(t={});var e={};return Object.keys(t).forEach((function(n){null!==t[n]&&void 0!==t[n]&&(e[n]=t[n])})),encodeURIComponent(btoa(JSON.stringify(e)))}function O(){var t;try{t=JSON.parse(localStorage.getItem("SPOTIM_CURRENT_USER")||"").data.id}catch(t){}return t}function S(){if(!window.$$SPOTIM_BID$$){var t=d().uuid;window.$$SPOTIM_BID$$=t}return window.$$SPOTIM_BID$$}var E=function(){var t,e,n,r=!0===function(){var t=s().get(g);if(void 0===t)return!1;try{return JSON.parse(t),!0}catch(t){return!1}}()?function(){if(y(new Date,_)<10&&"object"==typeof v){var t=v;return{visitId:t.visitId,duration:t.duration}}var e=function(){var t=s().get(g);try{return JSON.parse(t)}catch(t){return null}}(),n=e.visitId,r=e.creationDate,o=b(30),i=y(new Date,new Date(r)),a={visitId:n,creationDate:r,duration:Math.floor(i)};return _=new Date,v=a,s().set(g,a,{expires:o,domain:p()}),{visitId:n,duration:a.duration}}():(t={visitId:d().uuid,creationDate:new Date,duration:0},e=JSON.stringify(t),n=b(30),s().set(g,e,{expires:n,domain:p()}),{visitId:t.visitId,duration:t.duration}),o=r.visitId,i=r.duration;return window.$$SPOTIM_VID$$=o,{visitId:o,duration:i}},I=function(t){var e,n;void 0===t&&(t={});var r=null!==(e=null===(n=window.__OPEN_WEB__)||void 0===n?void 0:n.customPublisherData)&&void 0!==e?e:{};return JSON.stringify(f({},r,t))};function T(){var t=function(){if(performance&&performance.timing){var t=performance.timing.domLoading;if(!isNaN(t)&&t>0)return t}return null}();if(t&&t>=0&&!isNaN(t)){var e=Date.now()-t;return isNaN(e)||e<0||e>Number.MAX_SAFE_INTEGER?null:e}return null}var j={development:"http://127.0.0.1:8000/api/v1/pixels",staging:"https://pix.staging-spot.im/api/v1/pixels",production:"https://pix.spot.im/api/v1/pixels"},P=function(){function t(t){this.configProvider=t,this.events=[],this.url="",this.maxEvents=10,(0,u.cM)("EventsCollector",process.env.PACKAGE_VERSION),this.url=j[this.configProvider.get("env","production")],this.maxEvents=this.configProvider.get("tenant_config.events-collector.max_events",10),this.startSendingEvents(),this.handleUnload()}t.getInstance=function(e){var n=window.__SPOTIM__.SERVICES.events;return n||(n=new t(e),window.__SPOTIM__.SERVICES.events=n),n};var e=t.prototype;return e.startSendingEvents=function(){var t=this,e=this.configProvider.get("tenant_config.events-collector.time_interval_milliseconds",1e4);this.intervalId=setInterval((function(){t.sendEvents()}),e)},e.sendEvents=function(){if(this.events.length>0){var t=this.events.join("\\n");this.sendBeacon(t)}},e.sendBeacon=function(t){"sendBeacon"in navigator?navigator.sendBeacon(this.url,t)&&this.clean():(fetch(this.url,{method:"POST",body:t}),this.clean())},e.addEvent=function(t){var e=A(t);this.events.push(e),this.events.length>this.maxEvents&&this.sendEvents()},e.handleUnload=function(){var t=this;window.addEventListener("beforeunload",(function(){t.sendEvents()}))},e.clean=function(){this.events=[]},e.stopSendingEvents=function(){clearInterval(this.intervalId)},t}().getInstance(a());function x(t){var e,n=d().uuid,r=E(),i=r.visitId,a=r.duration,u=(0,l.getLocation)(),c=t.publisher_custom_data_override,s=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["publisher_custom_data_override"]);return f({page_view_id:w(),guid:n,referrer:(e=document.referrer,e&&e.trim()?e.replace(/′/g,"'").replace(/’/g,"'"):""),user_id:O()||"0",ib_browser_id:S(),visit_id:i,duration:a,v:10,domain:u.hostname,url:u.href,lang:navigator.userLanguage||navigator.language,uid:n,source_version:"",time_delta:T()||0,test_field:o().getAllExperiments(),split_name:o().getActiveExperiments(),publisher_custom_data:I(c)},s)}function k(t){var e,n,r=x(t);return"*"===localStorage.getItem("SPOTIM_DEBUG_API")&&console.log("%cSpot.IM Analytics%c Track","background: #823fb5; color: white","background: transparent; color: unset",r),function(t,e){var n;if(void 0===e&&(e=!1),e){var r,o=function(t){return void 0===t&&(t={}),"https://pix.spot.im/api/v1/pixel?m="+A(t)+"&rnd="+Math.random()}(t);n=fetch(o,{credentials:"include",headers:(r={},r["x-spotim-device-uuid"]=d().uuid,r["x-spotim-page-view-id"]=w(),r)})}else P.addEvent(t);return n||Promise.resolve({})}(r,(e=a().get("tenant_config.events-collector.batching",!1),!((n=localStorage.getItem("SPOTIM_PIXELS_BATCHING"))?"*"===n:e))).then((function(){return!0}))}function N(t){return function(e){return k(f({},t,e))}}function M(t){var e=t.source,n=t.spotId,r=t.postId;return{track:function(t){return k({type:t,source:e,spot_id:n,post_id:r})}}}(0,u.cM)("Analytics",process.env.PACKAGE_VERSION)},923:function(t,e,n){"use strict";n.r(e),n.d(e,{buildAdminDashboardUrl:function(){return _t},checkBrowser:function(){return Q},conversationPageBackToCommentsEnabled:function(){return bt},copyToClipboard:function(){return nt},dispatchSpotimEvent:function(){return K},formatLanguageCode:function(){return L},getCloudinaryUrl:function(){return pt},getCurrentScrollPosition:function(){return U},getCustomPublisherData:function(){return et},getDebugger:function(){return St},getDynamicTranslations:function(){return yt},getLocation:function(){return Y},guid:function(){return q},initScrollListener:function(){return D},isInSafeframe:function(){return N},isOldBrowser:function(){return H},isUnsupportedBrowser:function(){return J},isWebpSupported:function(){return lt},isWebpSupportedAsync:function(){return st},navigate:function(){return rt},navigateSafeframe:function(){return ot},parseNumber:function(){return F},prettyDate:function(){return vt},subscribeToVisibilityChange:function(){return G},tooltipDate:function(){return ht}});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t){return t.toLowerCase()}Object.create,Object.create;var i=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function u(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}var c={angle:"a",rotate:"a",background:"b",color:"co",colorSpace:"cs",customFunction:"fn",defaultImage:"d",density:"dn",dpr:"dpr",opacity:"o",format:"f",gravity:"g",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",bitRate:"br",keyframeInterval:"ki",audioCodec:"ac",audioFrequency:"af",delay:"dl",ocr:"ocr",streamingProfile:"sp",transformation:"t",underlay:"u",videoCodec:"vc",videoSampling:"vs",zoom:"z"},s={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},l={width:"w",height:"h",x:"x",y:"y",quality:"q",if:"if",aspectRatio:"ar",rotate:"a",opacity:"o",radius:"r",dpr:"dpr",effect:"e",border:"bo",currentPage:"cp",preview:"preview:duration",duration:"du",faceCount:"fc",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags"},f="("+Object.keys(l).join("|")+")",d=["quality","if","rotate","zoom","opacity","radius","effect","dpr"],p={equal:"eq",notEqual:"ne",lessThan:"lt",greaterThan:"gt",lessOrEqual:"lte",greaterOrEqual:"gte",include:"in",notInclude:"nin"},v={width:"w",initialWidth:"iw",height:"h",initialHeight:"ih",aspectRatio:"ar",intialAspectRatio:"iar",context:"ctx",metadata:"md",tags:"tags",trimmedAspectRatio:"tar",currentPage:"cp",faceCount:"fc",pageCount:"pc",pageXOffset:"px",pageYOffset:"py",initialDensity:"idn",illustration:"ils",pageNames:"pgnames"},h=function(t,e){return void 0===e&&(e=":"),t.filter(Boolean).join(e)},m=function(t){var e=t.expression?h(t.expression.map((function(t){return _(t)})),"_and_"):"",n=t.transformations.map((function(t){return T(j(t))}));return{expression:e,transformations:h(n,"/")}},g=function(t){return v[t]||t},_=function(t){var e=Array.isArray(t.characteristic)?h(t.characteristic.map(g)):g(t.characteristic),n=p[t.operator],r=isNaN(t.value)?"!"+t.value+"!":t.value;return h([e,n,r],"_")},b={integer:"to_i",float:"to_f"},y="((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))",w=function(t){return isNaN(t)?A(t):t},A=function(t){return t?function(t){var e=new RegExp(f,"g");return t.replace(e,(function(e,n,r){return"$"===t[r-1]?e:l[e]}))}((e=t,n=new RegExp(y,"g"),e.replace(n,(function(t){return s[t]})))).replace(/[ _]+/g,"_"):"";var e,n},O={context:"ctx",structureMetadata:"md"},S=function(t){var e="$"+t.name,n=t.value;isNaN(t.value)&&(n=Array.isArray(t.value)?h(t.value):function(t){if(!t||!t.expression)return"";var e=Array.isArray(t.expression)?h(t.expression):t.expression,n=function(t){return new RegExp(y,"g").test(t)}(e),r=A(e),o=b[t.formatAs]||"";return h([r&&!n?"!"+r+"!":r,o],"_")}(t.value));var r=h([O[t.assignFrom],n],":");return r?h([e,r],"_"):""},E=function(t){var e,n=[];for(var r in n.push(function(t){return t?Array.isArray(t)?h(t.map((function(t){return S(t)})),","):S(t):""}(t.variables)),n.push(function(t){var e,n,r,o,i;return t.resize||t.width||t.height||t.aspectRatio?(n=(e=t.resize||{width:t.width,height:t.height,type:t.crop,aspectRatio:t.aspectRatio}).type,r=e.width,o=e.height,i=e.aspectRatio,[n?"c_"+n:"",r?"w_"+w(r):"",o?"h_"+w(o):"",i?"ar_"+w(i):""].filter(Boolean).join()):""}(t)),n.push(function(t){return t.border?"string"==typeof t.border?"bo_"+t.border:(r=void 0===(n=(e=t.border).type)?"solid":n,i=void 0===(o=e.color)?"black":o,(a=e.width)?"bo_"+(isNaN(a)?A(a):a+"px")+"_"+r+"_"+i:""):"";var e,n,r,o,i,a}(t)),n.push(function(t){return t.x||t.y||t.position?(n=(e=t.position||{x:t.x,y:t.y}).x,r=e.y,[n?"x_"+w(n):"",r?"y_"+w(r):""].filter(Boolean).join()):"";var e,n,r}(t)),n.push(function(t){var e="object"==typeof t;return!t||e&&!t.min?"":"fps_"+(e?h([t.min,t.max],"-"):t)}(t.fps)),n.push((e=t.offset)?[e.start?"so_"+e.start:"",e.end?"eo_"+e.end:"",e.duration?"du_"+e.duration:""].filter(Boolean).join(","):""),t){var o=t[r],i=c[r];if(i&&o){var a=d.includes(r);n.push(i+"_"+(a?w(o):o))}}return n.push(function(t){var e="string"==typeof t;if(!t||!e&&!t.name)return"";if(e||!t.value)return"e_"+(t.name||t);var n=Array.isArray(t.value)?t.value.join(":"):t.value;return"e_"+h([t.name,n])}(t.effect)),n.push(function(t){return t&&0!==t.length?"fl_"+("string"==typeof t?t:t.join(":")):""}(t.flags)),n.push(t.rawTransformation),n.push(function(t){if(!t||!t.if||!t.if.expression)return"";var e=m(t.if),n=t.else?m(t.else):null,r=h(["if_"+e.expression,e.transformations],"/"),o=n?h(["if_else",n.transformations],"/"):"";return[h([r,o,"if_end"],"/")]}(t.condition)),n.filter(Boolean)},I=function(t){var e=E(t),n=t.transformation||t.chaining;return n&&Array.isArray(n)&&n.forEach((function(t){var n=E(t);n.length>0&&e.push(n)})),e.filter(Boolean)},T=function(t){return t.reduce((function(t,e){var n=Array.isArray(e);return t+(t?n?"/":",":"")+e.toString()}),"")},j=I,P=I,x=n(951),k=n.n(x),N=function(){return window.top!==window&&!!window.$sf},M=0,R=!1,D=function(t,e){var n=N(),r=U(n),o=C(n),i=B(n);M=0,R=!1,r>20||i?t(e):o?n?W(t,e):z(t,e):setTimeout((function(){t(e)}),1e3)},C=function(t){var e,n,r,o;return t?null===(e=100!==(null===(n=window.$sf)||void 0===n||null===(r=n.ext)||void 0===r||null===(o=r.inViewPercentage)||void 0===o?void 0:o.call(r)))||void 0===e||e:(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20},B=function(t){var e,n,r;return!!t&&(null===(e=window.$sf)||void 0===e||null===(n=e.ext)||void 0===n||null===(r=n.inViewPercentage)||void 0===r?void 0:r.call(n))>0},U=function(t){if(t){var e=window.$sf.ext.geom(),n=e.par,r=e.win;return n.t||n.b-r.h}return document.documentElement.scrollTop||document.body.scrollTop},z=function(t,e){var n=function n(){t(e),window.removeEventListener("resize",n),window.removeEventListener("scroll",r)},r=function r(){!function(t,e,n,r){M=document.documentElement.scrollTop||document.body.scrollTop,R||(window.requestAnimationFrame((function(){!function(t,e,n,r,o){t>=20&&(window.removeEventListener("resize",r),window.removeEventListener("scroll",n),e(o))}(M,t,e,n,r),R=!1})),R=!0)}(t,r,n,e)};window.addEventListener("scroll",r),window.addEventListener("resize",n)},W=function(t,e){document.addEventListener("geom-update",(function n(){U(!0)>=20&&(document.removeEventListener("geom-update",n),t(e))}))};function $(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function q(){var t=$;return t()+t()+t()+t()+t()+t()+t()+t()}function F(t){for(var e=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"},{value:1,symbol:""}],n=e[e.length-1],r=0,o=e;r<o.length;r++){var i=o[r];if(Math.abs(t)>=i.value){n=i;break}}return(t/n.value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol}var V={es_419:"es-419",es_ES:"es-ES",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW",th_TH:"th",en_GB:"en"};function L(t){return V[t]||t}function G(t,e){function n(){document.hidden?e():t()}return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}function Q(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""}:"Chrome"===n[1]?(t=e.match(/\b(OPR|Edge?)\/(\d+)/))?{name:t[1].replace("OPR","Opera").replace("Edg ","Edge ")||"",version:t[2]||""}:{name:"Chrome",version:n[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})}function J(){var t=Q(),e=parseInt(t.version.split(".")[0]),n=("Edge"===t.name||"Edg"===t.name)&&e<80,r=!!window.navigator.userAgent.match(/(MSIE|Trident)/),o=!!window.navigator.userAgent.match(/(Waterfox|waterfox)/);return n||r||o}function H(){var t=Q();if(!t.version)return!0;var e=parseInt(t.version.split(".")[0]),n=!0;switch(t.name){case"Chrome":n=e<66;break;case"Safari":n=e<13;break;case"Firefox":n=e<60;break;case"Edge":case"Edg":n=e<80}return n}function K(t,e){void 0===e&&(e={});var n=new CustomEvent(t,{detail:e});document.dispatchEvent(n),N()&&window.spotimSafeframe&&window.spotimSafeframe.sendMessageToHost({action:"spotim_event",args:{type:t,params:e}})}var Y=function(){if(!N())return window.location;try{var t,e;return new URL((null===(t=window)||void 0===t||null===(e=t.spotimSafeframe)||void 0===e?void 0:e.hostUrl)||document.referrer)}catch(t){return window.location}};function X(){return(X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tt="custom",et=function(t){var e=Object.keys(t.dataset),n=X({},t.dataset);return e.reduce((function(t,e){return e.startsWith(tt)?(t[(c=e.slice(tt.length),void 0===s&&(s={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?i:n,c=e.stripRegexp,s=void 0===c?a:c,l=e.transform,f=void 0===l?o:l,d=e.delimiter,p=void 0===d?" ":d,v=u(u(t,r,"$1\0$2"),s,"\0"),h=0,m=v.length;"\0"===v.charAt(h);)h++;for(;"\0"===v.charAt(m-1);)m--;return v.slice(h,m).split("\0").map(f).join(p)}(t,r({delimiter:"."},e))}(c,r({delimiter:"_"},s)))]=n[e],t):t;var c,s}),{})};function nt(t){!function(t){var e=document.createElement("span");e.textContent=t,document.body.appendChild(e);var n=window.getSelection(),r=window.document.createRange();null==n||n.removeAllRanges(),r.selectNode(e),null==n||n.addRange(r);try{window.document.execCommand("copy")}catch(t){}null==n||n.removeAllRanges(),window.document.body.removeChild(e)}(t),N()&&window.spotimSafeframe&&window.spotimSafeframe.sendMessageToHost({action:"clipboard_write",args:{text:t}})}function rt(t){N()?ot(t):window.location.href=t}function ot(t){var e;N()&&(null===(e=window.spotimSafeframe)||void 0===e||e.sendMessageToHost({action:"navigate",args:{url:t}}))}var it,at=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"lossless"}],ut=function(t){return new Promise((function(e){var n=new Image;function r(t){var r="load"===(null==t?void 0:t.type)&&1===n.width;e({result:r,event:t})}n.onerror=r,n.onload=r,n.src=t}))},ct={webp:!1},st=function(){return it||(it=new Promise((function(t){try{var e=[],n=at.shift();return Promise.resolve(ut(n.uri)).then((function(r){var o=r.result,i=r.event;if(ct[n.name]=o,"load"===(null==i?void 0:i.type))for(var a,u=function(){var t=a.value,n=ut(t.uri).then((function(e){var n=e.result;return ct[t.name]=n}));e.push(n)},c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(at);!(a=c()).done;)u();return Promise.resolve(Promise.all(e)).then((function(){t(ct)}))}))}catch(t){return Promise.reject(t)}})))},lt=function(){return ct},ft="https://images.spot.im",dt=ft+"/image/upload",pt=function(t){var e=X({},{quality:50,dpr:3},t);if(!e.url&&!e.pathname)throw new Error("missing required argument `options.url` or `options.pathname`");var n=e.pathname||new URL(e.url).pathname,r=n.split("/").slice(2),o=lt().webp?"webp":"png",i=e.extension?"."+e.extension:"",a="png"===o,u=["fl_lossy"],c=X({},function(t){var e=t.width,n=t.height,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["url","width","height","getUrl","pathname"]);return X({},r,{resize:X({width:e,height:n},r.resize)})}(e),{format:o}),s=P(c).concat(u).toString();a&&(s+=",fl_png8");var l=n.startsWith("/")?n.slice(1):n;return e.getUrl?e.getUrl({extension:i,baseUrl:ft,baseUrlUpload:dt,pathname:l,transformations:s,pathnameExtension:""+l+i}):[ft,s].concat(r).filter(Boolean).join("/").concat(i||"")};function vt(t){var e=t.date,n=t.longDate,r=t.t,o=t.dateFormat,i=t.enableDateFormat,a=null==e?void 0:e.getTime(),u=(Date.now()-a)/1e3,c=null,s=n?"long":"short",l=mt(null==e?void 0:e.getFullYear());if(!a||isNaN(u))c="";else if(u<14)c=r("prettyDate.now");else if(u<60){var f=Math.floor(u);c=r("prettyDate."+s+"Second",{count:f,seconds:f})}else if(u<3600){var d=Math.floor(u/60);c=r("prettyDate."+s+"Minute",{count:d,minutes:d})}else if(u<86400){var p=Math.floor(u/3600);c=r("prettyDate."+s+"Hour",{count:p,hours:p})}else{var v=e.getMonth()+1,h=Math.floor(u/86400);c=h<3?r("prettyDate."+s+"Day",{count:h,days:h}):i?new Intl.DateTimeFormat(o,{year:"numeric",month:"long",day:"numeric"}).format(e):e.getDate()+" "+r("prettyDate.months."+v+"."+s)+(n||!l?", "+e.getFullYear():"")}return c}function ht(t,e,n){void 0===n&&(n="short");var r=t.getMonth()+1;return t.getDate()+" "+e("prettyDate.months."+r+"."+n)+", "+t.getFullYear()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var mt=function(t){return t===(new Date).getFullYear()},gt={development:"https://admin.staging-spot.im/network/{NETWORK_NAME}",staging:"https://admin.staging-spot.im/network/{NETWORK_NAME}",production:"https://admin.spot.im/network/{NETWORK_NAME}",test:"https://admin.spot.im/network/{NETWORK_NAME}"}[function(){return window.__SPOTIMENV__||"production"}()],_t=function(t){var e,n=t.dashboardType,r=void 0===n?"conversation":n,o=t.networkName,i=void 0===o?"spotim":o,a=t.spotId,u=t.conversationId,c=t.contentType,s=void 0===c?"conversation":c,l=t.userId,f=((e={}).conversation="comments",e.liveBlog="comments",e.post="posts",e),d=gt.replace("{NETWORK_NAME}",i);return k().get("tenant_config.admin-panel."+("conversation"===r?"openDashboardUrl":"viewAllFromUserUrl"),d).replace("{SPOT_ID}",a).replace("{CONV_ID}",u).replace("{USER_ID}",l).replace("{CONTENT_TYPE}",f[s])},bt=function(){var t,e=k().get("queryParams.spot_im_highlight_immediate",!1),n=k().get("queryParams.spot_im_redirect_source",""),r=k().get("tenant_config.launcher.immediateConfig",[]),o="live-blog"===k().get("queryParams.ow_module"),i=null==r?void 0:r.find((function(t){return"conversation-page"===t.module}));return!o&&e&&n&&i&&!(null==i||null===(t=i.excludeSources)||void 0===t?void 0:t.includes(n))},yt=function(t){var e=t.lng,n=t.packageName,r=t.version,o=t.defaultTranslation;try{var i,a="https://static-cdn.spot.im/production/translations/"+n+"/v"+r,u=function(){if("en"===e)i=o;else{var t=function(){var t,o,u;if(!(null===(t=window.__SPOTIM__)||void 0===t||null===(o=t.translations)||void 0===o||null===(u=o[n])||void 0===u?void 0:u[r]))return Promise.resolve(fetch(a+"/"+e+"/translation.json")).then((function(t){return Promise.resolve(t.json()).then((function(t){var e,o,a;i=t,window.__SPOTIM__=X({},window.__SPOTIM__,{translations:X({},window.__SPOTIM__.translations,(a={},a[n]=X({},null===(e=window.__SPOTIM__.translations)||void 0===e?void 0:e[n],(o={},o[r]=i,o)),a))})}))}));i=window.__SPOTIM__.translations[n][r]}();if(t&&t.then)return t.then((function(){}))}}();return Promise.resolve(u&&u.then?u.then((function(){return i})):i)}catch(t){return Promise.reject(t)}},wt="SPOTIM_DEBUG_API",At=null;function Ot(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).log.apply(e,["%cSpot.IM "+t,"background: #307fe2; color: white;"].concat(r))}function St(t){var e=function(){try{if(null===At){var t=new URLSearchParams(Y().search);if((At=t.get(wt.toLowerCase()))||(At=window.SPOTIM_DEBUG_API),!At)try{At=window.localStorage.getItem(wt)}catch(t){}At||(At=""),At=At.split(",").map((function(t){return t.toLowerCase()}))}return At}catch(t){return[]}}();return e.indexOf("*")>-1||e.indexOf(t.toLowerCase())>-1?Ot.bind(null,t):function(){}}},727:function(t,e,n){self,t.exports=function(){"use strict";var t={n:function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{onBellClick:function(){return p},subscribeToNotifications:function(){return y}});var r=n(951),o=t.n(r),i=n(830),a=n(327),u=n(923);const c="realtime-notifications-internal-event",s=(0,u.getDebugger)("notifications-bell-utils"),l=t=>{window.__OPEN_WEB__.realTimeNotifications.unseenCount=t,s("dispatch new unseen count",t),(0,a.dispatchOnce)(c,t)},f="notifications",d=o().get("spotId","");function p({postId:t,instanceId:e,trackingSource:n="embedded_sdk"}){return function(t){return"embedded_sdk"===t}(n)&&function({postId:t,instanceId:e,trackingSource:n}){const r=function(t){const e=document.querySelector('[data-ow-notifications-placeholder][data-instance-id="'.concat(t,'"]'));return!!e&&"true"===e.getAttribute("data-active")}(e);(0,i.trackEvent)({conversation_id:"".concat(d,"_").concat(t),spot_id:d,post_id:t,source:f,item_type:n,type:"bell-clicked",target_type:r?"close":"open",count:window.__OPEN_WEB__.realTimeNotifications.unseenCount})}({postId:t,instanceId:e,trackingSource:n}),l(0),window.__SPOTIM__.initApp(f,{postId:t,instanceId:e,trackingSource:n})}var v=n(991),h=t.n(v),m=n(21),g=t.n(m);const _=o().get("spotId","");let b;function y(t,e){return s("Subscribed to real time notifications unseen count with postId",t),(({postId:t})=>{var e,n;if(window.__OPEN_WEB__={...null!==(e=window.__OPEN_WEB__)&&void 0!==e?e:{},realTimeNotifications:{...null!==(n=window.__OPEN_WEB__.realTimeNotifications)&&void 0!==n?n:{isSubscribedToRealTime:!1,currentUserId:"",unseenCount:0}}},!window.__OPEN_WEB__.realTimeNotifications.isSubscribedToRealTime){s("subscribing to realtime/read for notifications unseen count with postId",t),window.__OPEN_WEB__.realTimeNotifications.isSubscribedToRealTime=!0;const e="".concat(_,"_").concat(t),n=t=>t[e];b=h().subscribe({spotId:_,postId:t,topic:"conversation/notifications-count",params:()=>({conversation_id:e}),pick:n,callback:t=>{const[e]=t;window.__OPEN_WEB__.realTimeNotifications.unseenCount=e.unseenCount,l(e.unseen)},enableRetry:!1})}window.__OPEN_WEB__.realTimeNotifications.currentUserId||g().subscribe((t=>{window.__OPEN_WEB__.realTimeNotifications.currentUserId!==t.id&&(window.__OPEN_WEB__.realTimeNotifications.currentUserId=t.id,l(0))}))})({postId:t}),(0,a.subscribe)(c,e,{history:!1})}return e}()},327:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.r(e),n.d(e,{dispatch:function(){return f},dispatchOnce:function(){return d},subscribe:function(){return l}});var o,i=Symbol.for("openweb-pubsub-store");window[i]=null!=(o=window[i])?o:{events:{},queues:{}};var a=function(t){var e;return null!=(e=window[i].events[t])?e:{}},u=function(t,e){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];return(n=window[i].events[t])[e].apply(n,o)},c=function(t,e){!function(t){var e;window[i].queues[t]=null!=(e=window[i].queues[t])?e:[]}(t),window[i].queues[t].push({event:t,params:e})},s=function(t,e,n){var r=Symbol("key");return function(t,e,n){!function(t){var e;window[i].events[t]=null!=(e=window[i].events[t])?e:{}}(t),window[i].events[t][e]=n}(t,r,e),n.history&&function(t){var e;return null!=(e=window[i].queues[t])?e:[]}(t).forEach((function(t){return e.apply(void 0,t.params)})),r},l=function(t,e,n){var o=r({history:!0},n),a=s(t,e,o);return function(){return function(t,e){delete window[i].events[t][e]}(t,a)}},f=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=a(t);c(t,n),Object.getOwnPropertySymbols(o).forEach((function(e){return u.apply(void 0,[t,e].concat(n))}))},d=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=a(t);Object.getOwnPropertySymbols(o).forEach((function(e){return u.apply(void 0,[t,e].concat(n))}))}},991:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var r=n(69),o=n(923),i=window.__SPOTIM__.lib.request,a=n.n(i);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=function(t,e){return void 0===t&&(t=""),void 0===e&&(e="default"),{"x-spot-id":t,"x-post-id":e}},l=function(){function t(t){var e=this;this.config=t,this.onopen=function(){},this.onmessage=function(t){},this.onclose=function(){},this.onerror=function(){},this.tickerStop=function(){},this.handleError=function(){e.tickerStop(),e.onerror()}}var e=t.prototype;return e.connect=function(t,e){var n=this;void 0===e&&(e=!1);var r=this.config,o=r.url,i=r.timeout,u=r.spotId,c=r.postId,l=function(e,r){var i,f=function(){try{var e=function(){if(d)return Promise.resolve(a()(o,{headers:s(u,c),method:"POST",body:JSON.stringify(t())}).then((function(t){if(!t.next_fetch||!t.timestamp)throw new Error("");var e=1e3*(t.next_fetch-t.timestamp);return l.setTimeout(e),t})).then((function(t){n.onmessage(t)})).catch(n.handleError)).then((function(){v()}))}();return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},d=!1,p=r;function v(){i=window.setTimeout(f,p)}function h(){d=!1,clearTimeout(i)}return{run:function(){return d=!0,v(),h},setTimeout:function(t){p=t}}}(0,e?0:i);this.tickerStop=l.run(),this.onopen()},e.reset=function(t){this.disconnect(),this.connect(t)},e.disconnect=function(){this.tickerStop(),this.onclose()},t}(),f=function(){function t(t){var e=void 0===t?{}:t,n=e.retries,r=void 0===n?6:n,o=e.timeout,i=void 0===o?3e3:o,a=e.factor,u=void 0===a?1.5:a;this.tries=0,this.retries=r,this.timeout=i,this.currTimeout=i,this.factor=u}var e,n;return t.prototype.reset=function(){this.tries=0,this.currTimeout=this.timeout},e=t,(n=[{key:"numOfRetries",set:function(t){this.retries=t}},{key:"doRetry",get:function(){var t=!1;return this.tries<this.retries&&(t=!0,this.tries++),t}},{key:"nextTryTimeout",get:function(){var t=this.currTimeout;return this.currTimeout*=this.factor,t}}])&&u(e.prototype,n),t}(),d=function(){function t(t,e){var n=this;void 0===e&&(e=l),this.active=!1,this.currTimestamp=Math.floor((new Date).getTime()/1e3),this.handlers=new Map,this.unsubscribeFromVisibilityChange=function(){},this.topics=new Set,this.retry=new f,this.resume=function(){n.active&&n.dataSource.connect(n.getParams,!0)},this.pause=function(){n.dataSource.disconnect()},this.getParams=function(){return c({timestamp:n.currTimestamp},n.getDataParams())},this.getDataParams=function(){var t={};return n.handlers.forEach((function(e,n){e.forEach((function(e){t[n]||(t[n]=[]),t[n].push(e.params&&e.params())}))})),{data:t}},this.handleSuccess=function(t){var e=t.timestamp,r=t.data;n.currTimestamp=e;for(var o=Object.keys(r),i=function(){var t=u[a];(n.handlers.get(t)||[]).forEach((function(e){var n=r[t];e.pick&&(n=e.pick(r[t])),e.callback(n)}))},a=0,u=o;a<u.length;a++)i();n.retry.reset()},this.handleError=function(){n.active=!1,n.retry.doRetry&&setTimeout((function(){n.connect()}),n.retry.nextTryTimeout)},function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.cM.apply(void 0,["RealTime"].concat(e))}(process.env.PACKAGE_VERSION),this.dataSource=new e(t),this.dataSource.onmessage=this.handleSuccess,this.dataSource.onerror=this.handleError}var e=t.prototype;return e.subscribe=function(t){var e=this,n=!this.topics.has(t.topic);return this.topics.add(t.topic),this.addHandler(t),this.active&&n&&this.reset(),!1===(null==t?void 0:t.enableRetry)&&(this.retry.numOfRetries=0),this.active||this.activate(),function(){e.unsubscribe(t)}},e.activate=function(){this.connect(),this.unsubscribeFromVisibilityChange=(0,o.subscribeToVisibilityChange)(this.resume,this.pause)},e.connect=function(){this.active=!0,this.dataSource.connect(this.getParams)},e.reset=function(){this.dataSource.reset(this.getParams)},e.addHandler=function(t){var e=this.handlers.get(t.topic)||[];e.push(t),this.handlers.set(t.topic,e)},e.unsubscribe=function(t){var e=this.handlers.get(t.topic)||[];if(e.length<=1)return this.handlers.delete(t.topic),this.topics.delete(t.topic),void(0===this.topics.size?(this.active=!1,this.dataSource.disconnect(),this.unsubscribeFromVisibilityChange()):this.reset());var n=e.indexOf(t);e.splice(n,1),this.handlers.set(t.topic,e)},t}(),p="realTime",v=function(){},h=function(t,e){return t+"_"+e},m=function(){function t(){this.realTimesMap=new Map}t.getInstance=function(){var e=(0,r.WS)(p);return e.status||(e.object=new t,(0,r._$)(p,e.object)),e.object};var e=t.prototype;return e.addRealTime=function(t){var e=t.spotId,n=t.postId,r=h(e,n),o=new d({spotId:e,postId:n,url:"v1.0.0/conversation/realtime/read",timeout:500});this.realTimesMap.set(r,o)},e.subscribe=function(t){var e,n,r=t.spotId,o=t.postId,i=h(r,o);return this.realTimesMap.has(i)||this.addRealTime(t),null!==(e=null===(n=this.realTimesMap.get(i))||void 0===n?void 0:n.subscribe(t))&&void 0!==e?e:v},t}().getInstance()},69:function(t,e,n){"use strict";n.d(e,{WS:function(){return ee},cM:function(){return Zt},_$:function(){return te}});var r=function(t,e){return t===e||t!=t&&e!=e},o=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1},i=Array.prototype.splice;function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(t){var e=this.__data__,n=o(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))},a.prototype.get=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]},a.prototype.has=function(t){return o(this.__data__,t)>-1},a.prototype.set=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var u,c=a,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,f=s||l||Function("return this")(),d=f.Symbol,p=Object.prototype,v=p.hasOwnProperty,h=p.toString,m=d?d.toStringTag:void 0,g=Object.prototype.toString,_=d?d.toStringTag:void 0,b=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?function(t){var e=v.call(t,m),n=t[m];try{t[m]=void 0;var r=!0}catch(t){}var o=h.call(t);return r&&(e?t[m]=n:delete t[m]),o}(t):function(t){return g.call(t)}(t)},y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},w=function(t){if(!y(t))return!1;var e=b(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},A=f["__core-js_shared__"],O=(u=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",S=Function.prototype.toString,E=/^\[object .+?Constructor\]$/,I=Function.prototype,T=Object.prototype,j=I.toString,P=T.hasOwnProperty,x=RegExp("^"+j.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=function(t){return!(!y(t)||(e=t,O&&O in e))&&(w(t)?x:E).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},N=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return k(n)?n:void 0},M=N(f,"Map"),R=N(Object,"create"),D=Object.prototype.hasOwnProperty,C=Object.prototype.hasOwnProperty;function B(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}B.prototype.clear=function(){this.__data__=R?R(null):{},this.size=0},B.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},B.prototype.get=function(t){var e=this.__data__;if(R){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return D.call(e,t)?e[t]:void 0},B.prototype.has=function(t){var e=this.__data__;return R?void 0!==e[t]:C.call(e,t)},B.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=R&&void 0===e?"__lodash_hash_undefined__":e,this};var U=B,z=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function W(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}W.prototype.clear=function(){this.size=0,this.__data__={hash:new U,map:new(M||c),string:new U}},W.prototype.delete=function(t){var e=z(this,t).delete(t);return this.size-=e?1:0,e},W.prototype.get=function(t){return z(this,t).get(t)},W.prototype.has=function(t){return z(this,t).has(t)},W.prototype.set=function(t,e){var n=z(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var $=W;function q(t){var e=this.__data__=new c(t);this.size=e.size}q.prototype.clear=function(){this.__data__=new c,this.size=0},q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},q.prototype.get=function(t){return this.__data__.get(t)},q.prototype.has=function(t){return this.__data__.has(t)},q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof c){var r=n.__data__;if(!M||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $(r)}return n.set(t,e),this.size=n.size,this};var F,V,L=q,G=function(){try{var t=N(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Q=function(t,e,n){"__proto__"==e&&G?G(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},J=function(t,e,n){(void 0!==n&&!r(t[e],n)||void 0===n&&!(e in t))&&Q(t,e,n)},H=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var u=i[++r];if(!1===e(o[u],u,o))break}return t},K="object"==typeof exports&&exports&&!exports.nodeType&&exports,Y=K&&"object"==typeof module&&module&&!module.nodeType&&module,X=Y&&Y.exports===K?f.Buffer:void 0,Z=X?X.allocUnsafe:void 0,tt=f.Uint8Array,et=function(t,e){var n,r,o=e?(n=t.buffer,r=new n.constructor(n.byteLength),new tt(r).set(new tt(n)),r):t.buffer;return new t.constructor(o,t.byteOffset,t.length)},nt=Object.create,rt=function(){function t(){}return function(e){if(!y(e))return{};if(nt)return nt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ot=(F=Object.getPrototypeOf,V=Object,function(t){return F(V(t))}),it=Object.prototype,at=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||it)},ut=function(t){return null!=t&&"object"==typeof t},ct=function(t){return ut(t)&&"[object Arguments]"==b(t)},st=Object.prototype,lt=st.hasOwnProperty,ft=st.propertyIsEnumerable,dt=ct(function(){return arguments}())?ct:function(t){return ut(t)&&lt.call(t,"callee")&&!ft.call(t,"callee")},pt=Array.isArray,vt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ht=function(t){return null!=t&&vt(t.length)&&!w(t)},mt="object"==typeof exports&&exports&&!exports.nodeType&&exports,gt=mt&&"object"==typeof module&&module&&!module.nodeType&&module,_t=gt&&gt.exports===mt?f.Buffer:void 0,bt=(_t?_t.isBuffer:void 0)||function(){return!1},yt=Function.prototype,wt=Object.prototype,At=yt.toString,Ot=wt.hasOwnProperty,St=At.call(Object),Et={};Et["[object Float32Array]"]=Et["[object Float64Array]"]=Et["[object Int8Array]"]=Et["[object Int16Array]"]=Et["[object Int32Array]"]=Et["[object Uint8Array]"]=Et["[object Uint8ClampedArray]"]=Et["[object Uint16Array]"]=Et["[object Uint32Array]"]=!0,Et["[object Arguments]"]=Et["[object Array]"]=Et["[object ArrayBuffer]"]=Et["[object Boolean]"]=Et["[object DataView]"]=Et["[object Date]"]=Et["[object Error]"]=Et["[object Function]"]=Et["[object Map]"]=Et["[object Number]"]=Et["[object Object]"]=Et["[object RegExp]"]=Et["[object Set]"]=Et["[object String]"]=Et["[object WeakMap]"]=!1;var It,Tt="object"==typeof exports&&exports&&!exports.nodeType&&exports,jt=Tt&&"object"==typeof module&&module&&!module.nodeType&&module,Pt=jt&&jt.exports===Tt&&s.process,xt=function(){try{return jt&&jt.require&&jt.require("util").types||Pt&&Pt.binding&&Pt.binding("util")}catch(t){}}(),kt=xt&&xt.isTypedArray,Nt=kt?function(t){return function(e){return t(e)}}(kt):function(t){return ut(t)&&vt(t.length)&&!!Et[b(t)]},Mt=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Rt=Object.prototype.hasOwnProperty,Dt=function(t,e,n){var o=t[e];Rt.call(t,e)&&r(o,n)&&(void 0!==n||e in t)||Q(t,e,n)},Ct=/^(?:0|[1-9]\d*)$/,Bt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ct.test(t))&&t>-1&&t%1==0&&t<e},Ut=Object.prototype.hasOwnProperty,zt=function(t,e){var n=pt(t),r=!n&&dt(t),o=!n&&!r&&bt(t),i=!n&&!r&&!o&&Nt(t),a=n||r||o||i,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=u.length;for(var s in t)!e&&!Ut.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Bt(s,c))||u.push(s);return u},Wt=Object.prototype.hasOwnProperty,$t=function(t){if(!y(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=at(t),n=[];for(var r in t)("constructor"!=r||!e&&Wt.call(t,r))&&n.push(r);return n},qt=function(t){return ht(t)?zt(t,!0):$t(t)},Ft=function(t){return function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Q(n,u,c):Dt(n,u,c)}return n}(t,qt(t))},Vt=function(t,e,n,r,o,i,a){var u,c=Mt(t,n),s=Mt(e,n),l=a.get(s);if(l)J(t,n,l);else{var f=i?i(c,s,n+"",t,e,a):void 0,d=void 0===f;if(d){var p=pt(s),v=!p&&bt(s),h=!p&&!v&&Nt(s);f=s,p||v||h?pt(c)?f=c:ut(u=c)&&ht(u)?f=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(c):v?(d=!1,f=function(t,e){if(e)return t.slice();var n=t.length,r=Z?Z(n):new t.constructor(n);return t.copy(r),r}(s,!0)):h?(d=!1,f=et(s,!0)):f=[]:function(t){if(!ut(t)||"[object Object]"!=b(t))return!1;var e=ot(t);if(null===e)return!0;var n=Ot.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&At.call(n)==St}(s)||dt(s)?(f=c,dt(c)?f=Ft(c):y(c)&&!w(c)||(f=function(t){return"function"!=typeof t.constructor||at(t)?{}:rt(ot(t))}(s))):d=!1}d&&(a.set(s,f),o(f,s,r,i,a),a.delete(s)),J(t,n,f)}},Lt=function t(e,n,r,o,i){e!==n&&H(n,(function(a,u){if(i||(i=new L),y(a))Vt(e,n,u,r,t,o,i);else{var c=o?o(Mt(e,u),a,u+"",e,n,i):void 0;void 0===c&&(c=a),J(e,u,c)}}),qt)},Gt=function(t){return t},Qt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Jt=Math.max,Ht=G?function(t,e){return G(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Gt,Kt=Date.now,Yt=function(t){var e=0,n=0;return function(){var r=Kt(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ht),Xt=(It=function(t,e,n){Lt(t,e,n)},function(t,e){return Yt(function(t,e,n){return e=Jt(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Jt(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),Qt(t,this,u)}}(t,e,Gt),t+"")}((function(t,e){var n=-1,o=e.length,i=o>1?e[o-1]:void 0,a=o>2?e[2]:void 0;for(i=It.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(t,e,n){if(!y(n))return!1;var o=typeof e;return!!("number"==o?ht(n)&&Bt(e,n.length):"string"==o&&e in n)&&r(n[e],t)}(e[0],e[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var u=e[n];u&&It(t,u,n)}return t})));function Zt(t){if("*"===localStorage.getItem("SPOTIM_DEBUG_API")){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).log.apply(e,["%cOpenWeb "+t+"%c","background: #823fb5; color: white","background: transparent; color: unset"].concat(r))}}function te(t,e){var n,r={__SPOTIM__:{SERVICES:(n={},n[t]=e,n)}};Xt(window,r)}function ee(t){var e,n,r={status:!1,object:{}};return(null===(e=window.__SPOTIM__)||void 0===e||null===(n=e.SERVICES)||void 0===n?void 0:n[t])&&(r.status=!0,r.object=window.__SPOTIM__.SERVICES[t]),r}},808:function(t,e,n){var r,o,i;void 0===(o="function"==typeof(r=i=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var c in i)i[c]&&(u+="; "+c,!0!==i[c]&&(u+="="+i[c].split(";")[0]));return document.cookie=e+"="+n+u}}function a(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var u=i[a].split("="),c=u.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var s=e(u[0]);if(c=(r.read||r)(c,s)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[s]=c,t===s)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))})?r.call(e,n,e,t):r)||(t.exports=o),t.exports=i()},951:function(t){"use strict";t.exports=window.__SPOTIM__.SERVICES.configProvider},21:function(t){"use strict";t.exports=window.__SPOTIM__.lib.currentUser}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";var t=n(727),e=n(21),r=n.n(e),o=n(951),i=n.n(o),a=n(923);const u=i().get("tenant_config.notifications.shouldDisableRealtimeNotifications",!1),c=i().get("tenant_config.notifications.shouldDisableRealtimeNotificationsForGuests",!1);let s,l;window.__OW_OPEN_NOTIFICATIONS__=t.onBellClick,window.__OW_SUBSCRIBE_TO_NOTIFICATIONS__=function(n,o){r().subscribe((r=>{var i;null===(i=s)||void 0===i||i(),u||c&&!r.isRegistered||l&&(0,e.isSameUser)(l,r)||(l=r,s=(0,t.subscribeToNotifications)(n,o))}))},(0,a.dispatchSpotimEvent)("ow-notifications-sdk-ready")}()}();
//# sourceMappingURL=notifications-sdk-bundle.js.map